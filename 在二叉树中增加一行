class Solution {
public:
    void dfs(TreeNode* root,int val,int depth,int n)
    {
        if(root==nullptr)return;
        if(n+1==depth)
        {
            TreeNode* cur=new TreeNode(val);
            cur->left=root->left;
            root->left=cur;
            TreeNode* prev=new TreeNode(val);
            prev->right=root->right;
            root->right=prev;
            return;
        }
        dfs(root->left,val,depth,n+1);
        dfs(root->right,val,depth,n+1);
    }
    TreeNode* addOneRow(TreeNode* root, int val, int depth) {
        if(depth==1)
        {
            TreeNode* cur=new TreeNode(val);
            cur->left=root;
            root=cur;
        }
        else
        {
            dfs(root,val,depth,1);
        }
        return root;
    }
};