class Solution {
public:
    ListNode *detectCycle(ListNode *head) {
        set<ListNode*> ret;
        ListNode* cur=head;
        while(cur)
        {
            if(ret.count(cur))
            {
                return cur;
            }
            else
            {
                ret.insert(cur);
            }
            cur=cur->next;
        }
        return nullptr;
    }
};